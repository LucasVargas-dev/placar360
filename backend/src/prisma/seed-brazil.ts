import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

async function main() {
  console.log('üáßüá∑ Starting Brazilian states and cities seeding...');

  // Brazilian states with regions
  const states = [
    // Regi√£o Norte
    { name: 'Acre', uf: 'AC', region: 'Norte' },
    { name: 'Amap√°', uf: 'AP', region: 'Norte' },
    { name: 'Amazonas', uf: 'AM', region: 'Norte' },
    { name: 'Par√°', uf: 'PA', region: 'Norte' },
    { name: 'Rond√¥nia', uf: 'RO', region: 'Norte' },
    { name: 'Roraima', uf: 'RR', region: 'Norte' },
    { name: 'Tocantins', uf: 'TO', region: 'Norte' },

    // Regi√£o Nordeste
    { name: 'Alagoas', uf: 'AL', region: 'Nordeste' },
    { name: 'Bahia', uf: 'BA', region: 'Nordeste' },
    { name: 'Cear√°', uf: 'CE', region: 'Nordeste' },
    { name: 'Maranh√£o', uf: 'MA', region: 'Nordeste' },
    { name: 'Para√≠ba', uf: 'PB', region: 'Nordeste' },
    { name: 'Pernambuco', uf: 'PE', region: 'Nordeste' },
    { name: 'Piau√≠', uf: 'PI', region: 'Nordeste' },
    { name: 'Rio Grande do Norte', uf: 'RN', region: 'Nordeste' },
    { name: 'Sergipe', uf: 'SE', region: 'Nordeste' },

    // Regi√£o Centro-Oeste
    { name: 'Distrito Federal', uf: 'DF', region: 'Centro-Oeste' },
    { name: 'Goi√°s', uf: 'GO', region: 'Centro-Oeste' },
    { name: 'Mato Grosso', uf: 'MT', region: 'Centro-Oeste' },
    { name: 'Mato Grosso do Sul', uf: 'MS', region: 'Centro-Oeste' },

    // Regi√£o Sudeste
    { name: 'Esp√≠rito Santo', uf: 'ES', region: 'Sudeste' },
    { name: 'Minas Gerais', uf: 'MG', region: 'Sudeste' },
    { name: 'Rio de Janeiro', uf: 'RJ', region: 'Sudeste' },
    { name: 'S√£o Paulo', uf: 'SP', region: 'Sudeste' },

    // Regi√£o Sul
    { name: 'Paran√°', uf: 'PR', region: 'Sul' },
    { name: 'Rio Grande do Sul', uf: 'RS', region: 'Sul' },
    { name: 'Santa Catarina', uf: 'SC', region: 'Sul' },
  ];

  console.log('üèõÔ∏è Creating states...');
  for (const stateData of states) {
    await prisma.state.upsert({
      where: { uf: stateData.uf },
      update: {},
      create: stateData,
    });
  }

  // Get all states for city creation
  const allStates = await prisma.state.findMany();

  // Major Brazilian cities by state
  const citiesData = [
    // S√£o Paulo
    { name: 'S√£o Paulo', stateUf: 'SP', ibgeCode: '3550308' },
    { name: 'Guarulhos', stateUf: 'SP', ibgeCode: '3518800' },
    { name: 'Campinas', stateUf: 'SP', ibgeCode: '3509502' },
    { name: 'S√£o Bernardo do Campo', stateUf: 'SP', ibgeCode: '3548708' },
    { name: 'Santo Andr√©', stateUf: 'SP', ibgeCode: '3547809' },
    { name: 'Osasco', stateUf: 'SP', ibgeCode: '3534401' },
    { name: 'Ribeir√£o Preto', stateUf: 'SP', ibgeCode: '3543402' },
    { name: 'Sorocaba', stateUf: 'SP', ibgeCode: '3552205' },
    { name: 'Mau√°', stateUf: 'SP', ibgeCode: '3529006' },
    { name: 'S√£o Jos√© dos Campos', stateUf: 'SP', ibgeCode: '3550209' },

    // Rio de Janeiro
    { name: 'Rio de Janeiro', stateUf: 'RJ', ibgeCode: '3304557' },
    { name: 'S√£o Gon√ßalo', stateUf: 'RJ', ibgeCode: '3304904' },
    { name: 'Duque de Caxias', stateUf: 'RJ', ibgeCode: '3301702' },
    { name: 'Nova Igua√ßu', stateUf: 'RJ', ibgeCode: '3303500' },
    { name: 'Niter√≥i', stateUf: 'RJ', ibgeCode: '3303302' },
    { name: 'Belford Roxo', stateUf: 'RJ', ibgeCode: '3300456' },
    { name: 'S√£o Jo√£o de Meriti', stateUf: 'RJ', ibgeCode: '3305109' },
    { name: 'Campos dos Goytacazes', stateUf: 'RJ', ibgeCode: '3301009' },
    { name: 'Petr√≥polis', stateUf: 'RJ', ibgeCode: '3303906' },
    { name: 'Volta Redonda', stateUf: 'RJ', ibgeCode: '3306305' },

    // Minas Gerais
    { name: 'Belo Horizonte', stateUf: 'MG', ibgeCode: '3106200' },
    { name: 'Uberl√¢ndia', stateUf: 'MG', ibgeCode: '3170206' },
    { name: 'Contagem', stateUf: 'MG', ibgeCode: '3118601' },
    { name: 'Juiz de Fora', stateUf: 'MG', ibgeCode: '3136702' },
    { name: 'Betim', stateUf: 'MG', ibgeCode: '3106705' },
    { name: 'Montes Claros', stateUf: 'MG', ibgeCode: '3143302' },
    { name: 'Ribeir√£o das Neves', stateUf: 'MG', ibgeCode: '3154606' },
    { name: 'Uberaba', stateUf: 'MG', ibgeCode: '3170107' },
    { name: 'Governador Valadares', stateUf: 'MG', ibgeCode: '3127701' },
    { name: 'Ipatinga', stateUf: 'MG', ibgeCode: '3131307' },

    // Bahia
    { name: 'Salvador', stateUf: 'BA', ibgeCode: '2927408' },
    { name: 'Feira de Santana', stateUf: 'BA', ibgeCode: '2910800' },
    { name: 'Vit√≥ria da Conquista', stateUf: 'BA', ibgeCode: '2933307' },
    { name: 'Cama√ßari', stateUf: 'BA', ibgeCode: '2910109' },
    { name: 'Juazeiro', stateUf: 'BA', ibgeCode: '2918407' },
    { name: 'Ilh√©us', stateUf: 'BA', ibgeCode: '2913606' },
    { name: 'Itabuna', stateUf: 'BA', ibgeCode: '2914802' },
    { name: 'Lauro de Freitas', stateUf: 'BA', ibgeCode: '2919207' },
    { name: 'Jequi√©', stateUf: 'BA', ibgeCode: '2918001' },
    { name: 'Teixeira de Freitas', stateUf: 'BA', ibgeCode: '2931350' },

    // Paran√°
    { name: 'Curitiba', stateUf: 'PR', ibgeCode: '4106902' },
    { name: 'Londrina', stateUf: 'PR', ibgeCode: '4113700' },
    { name: 'Maring√°', stateUf: 'PR', ibgeCode: '4115200' },
    { name: 'Ponta Grossa', stateUf: 'PR', ibgeCode: '4119905' },
    { name: 'Cascavel', stateUf: 'PR', ibgeCode: '4104808' },
    { name: 'S√£o Jos√© dos Pinhais', stateUf: 'PR', ibgeCode: '4125506' },
    { name: 'Foz do Igua√ßu', stateUf: 'PR', ibgeCode: '4108304' },
    { name: 'Colombo', stateUf: 'PR', ibgeCode: '4105805' },
    { name: 'Guarapuava', stateUf: 'PR', ibgeCode: '4109401' },
    { name: 'Paranagu√°', stateUf: 'PR', ibgeCode: '4118204' },

    // Rio Grande do Sul
    { name: 'Porto Alegre', stateUf: 'RS', ibgeCode: '4314902' },
    { name: 'Caxias do Sul', stateUf: 'RS', ibgeCode: '4305108' },
    { name: 'Pelotas', stateUf: 'RS', ibgeCode: '4314407' },
    { name: 'Canoas', stateUf: 'RS', ibgeCode: '4304606' },
    { name: 'Santa Maria', stateUf: 'RS', ibgeCode: '4316907' },
    { name: 'Gravata√≠', stateUf: 'RS', ibgeCode: '4309209' },
    { name: 'Viam√£o', stateUf: 'RS', ibgeCode: '4323002' },
    { name: 'Novo Hamburgo', stateUf: 'RS', ibgeCode: '4313409' },
    { name: 'S√£o Leopoldo', stateUf: 'RS', ibgeCode: '4318705' },
    { name: 'Rio Grande', stateUf: 'RS', ibgeCode: '4315602' },

    // Pernambuco
    { name: 'Recife', stateUf: 'PE', ibgeCode: '2611606' },
    { name: 'Jaboat√£o dos Guararapes', stateUf: 'PE', ibgeCode: '2607901' },
    { name: 'Olinda', stateUf: 'PE', ibgeCode: '2609600' },
    { name: 'Caruaru', stateUf: 'PE', ibgeCode: '2604106' },
    { name: 'Petrolina', stateUf: 'PE', ibgeCode: '2611101' },
    { name: 'Paulista', stateUf: 'PE', ibgeCode: '2610707' },
    { name: 'Cabo de Santo Agostinho', stateUf: 'PE', ibgeCode: '2602902' },
    { name: 'Camaragibe', stateUf: 'PE', ibgeCode: '2603454' },
    { name: 'Garanhuns', stateUf: 'PE', ibgeCode: '2606002' },
    { name: 'Vit√≥ria de Santo Ant√£o', stateUf: 'PE', ibgeCode: '2616407' },

    // Cear√°
    { name: 'Fortaleza', stateUf: 'CE', ibgeCode: '2304400' },
    { name: 'Caucaia', stateUf: 'CE', ibgeCode: '2303709' },
    { name: 'Juazeiro do Norte', stateUf: 'CE', ibgeCode: '2307650' },
    { name: 'Maracana√∫', stateUf: 'CE', ibgeCode: '2307700' },
    { name: 'Sobral', stateUf: 'CE', ibgeCode: '2312908' },
    { name: 'Crato', stateUf: 'CE', ibgeCode: '2304202' },
    { name: 'Itapipoca', stateUf: 'CE', ibgeCode: '2306405' },
    { name: 'Maranguape', stateUf: 'CE', ibgeCode: '2307700' },
    { name: 'Iguatu', stateUf: 'CE', ibgeCode: '2305506' },
    { name: 'Quixad√°', stateUf: 'CE', ibgeCode: '2311306' },

    // Par√°
    { name: 'Bel√©m', stateUf: 'PA', ibgeCode: '1501402' },
    { name: 'Ananindeua', stateUf: 'PA', ibgeCode: '1500800' },
    { name: 'Santar√©m', stateUf: 'PA', ibgeCode: '1506807' },
    { name: 'Marab√°', stateUf: 'PA', ibgeCode: '1504208' },
    { name: 'Parauapebas', stateUf: 'PA', ibgeCode: '1505494' },
    { name: 'Castanhal', stateUf: 'PA', ibgeCode: '1502400' },
    { name: 'Abaetetuba', stateUf: 'PA', ibgeCode: '1500107' },
    { name: 'Itaituba', stateUf: 'PA', ibgeCode: '1503606' },
    { name: 'Bragan√ßa', stateUf: 'PA', ibgeCode: '1501709' },
    { name: 'Altamira', stateUf: 'PA', ibgeCode: '1500602' },

    // Goi√°s
    { name: 'Goi√¢nia', stateUf: 'GO', ibgeCode: '5208707' },
    { name: 'Aparecida de Goi√¢nia', stateUf: 'GO', ibgeCode: '5201405' },
    { name: 'An√°polis', stateUf: 'GO', ibgeCode: '5201108' },
    { name: 'Rio Verde', stateUf: 'GO', ibgeCode: '5218805' },
    { name: 'Luzi√¢nia', stateUf: 'GO', ibgeCode: '5212501' },
    { name: '√Åguas Lindas de Goi√°s', stateUf: 'GO', ibgeCode: '5200258' },
    { name: 'Valpara√≠so de Goi√°s', stateUf: 'GO', ibgeCode: '5221858' },
    { name: 'Trindade', stateUf: 'GO', ibgeCode: '5221403' },
    { name: 'Formosa', stateUf: 'GO', ibgeCode: '5208004' },
    { name: 'Novo Gama', stateUf: 'GO', ibgeCode: '5215231' },

    // Maranh√£o
    { name: 'S√£o Lu√≠s', stateUf: 'MA', ibgeCode: '2111300' },
    { name: 'Imperatriz', stateUf: 'MA', ibgeCode: '2105302' },
    { name: 'S√£o Jos√© de Ribamar', stateUf: 'MA', ibgeCode: '2111201' },
    { name: 'Timon', stateUf: 'MA', ibgeCode: '2112209' },
    { name: 'Caxias', stateUf: 'MA', ibgeCode: '2103000' },
    { name: 'Cod√≥', stateUf: 'MA', ibgeCode: '2103307' },
    { name: 'Pa√ßo do Lumiar', stateUf: 'MA', ibgeCode: '2107506' },
    { name: 'A√ßail√¢ndia', stateUf: 'MA', ibgeCode: '2100055' },
    { name: 'Bacabal', stateUf: 'MA', ibgeCode: '2101202' },
    { name: 'Balsas', stateUf: 'MA', ibgeCode: '2101400' },

    // Esp√≠rito Santo
    { name: 'Vit√≥ria', stateUf: 'ES', ibgeCode: '3205309' },
    { name: 'Vila Velha', stateUf: 'ES', ibgeCode: '3205200' },
    { name: 'Cariacica', stateUf: 'ES', ibgeCode: '3201308' },
    { name: 'Serra', stateUf: 'ES', ibgeCode: '3205002' },
    { name: 'Cachoeiro de Itapemirim', stateUf: 'ES', ibgeCode: '3201209' },
    { name: 'Linhares', stateUf: 'ES', ibgeCode: '3203205' },
    { name: 'S√£o Mateus', stateUf: 'ES', ibgeCode: '3204906' },
    { name: 'Colatina', stateUf: 'ES', ibgeCode: '3201506' },
    { name: 'Guarapari', stateUf: 'ES', ibgeCode: '3202405' },
    { name: 'Aracruz', stateUf: 'ES', ibgeCode: '3200607' },

    // Santa Catarina
    { name: 'Florian√≥polis', stateUf: 'SC', ibgeCode: '4205407' },
    { name: 'Joinville', stateUf: 'SC', ibgeCode: '4209102' },
    { name: 'Blumenau', stateUf: 'SC', ibgeCode: '4202404' },
    { name: 'S√£o Jos√©', stateUf: 'SC', ibgeCode: '4216602' },
    { name: 'Crici√∫ma', stateUf: 'SC', ibgeCode: '4204608' },
    { name: 'Chapec√≥', stateUf: 'SC', ibgeCode: '4204202' },
    { name: 'Itaja√≠', stateUf: 'SC', ibgeCode: '4208203' },
    { name: 'Lages', stateUf: 'SC', ibgeCode: '4209102' },
    { name: 'Jaragu√° do Sul', stateUf: 'SC', ibgeCode: '4208906' },
    { name: 'Palho√ßa', stateUf: 'SC', ibgeCode: '4211900' },

    // Mato Grosso
    { name: 'Cuiab√°', stateUf: 'MT', ibgeCode: '5103403' },
    { name: 'V√°rzea Grande', stateUf: 'MT', ibgeCode: '5108402' },
    { name: 'Rondon√≥polis', stateUf: 'MT', ibgeCode: '5107602' },
    { name: 'Sinop', stateUf: 'MT', ibgeCode: '5107909' },
    { name: 'Tangar√° da Serra', stateUf: 'MT', ibgeCode: '5107958' },
    { name: 'C√°ceres', stateUf: 'MT', ibgeCode: '5102504' },
    { name: 'Sorriso', stateUf: 'MT', ibgeCode: '5107925' },
    { name: 'Lucas do Rio Verde', stateUf: 'MT', ibgeCode: '5105259' },
    { name: 'Barra do Gar√ßas', stateUf: 'MT', ibgeCode: '5101704' },
    { name: 'Primavera do Leste', stateUf: 'MT', ibgeCode: '5107040' },

    // Mato Grosso do Sul
    { name: 'Campo Grande', stateUf: 'MS', ibgeCode: '5002704' },
    { name: 'Dourados', stateUf: 'MS', ibgeCode: '5003702' },
    { name: 'Tr√™s Lagoas', stateUf: 'MS', ibgeCode: '5008305' },
    { name: 'Corumb√°', stateUf: 'MS', ibgeCode: '5003207' },
    { name: 'Ponta Por√£', stateUf: 'MS', ibgeCode: '5006606' },
    { name: 'Navira√≠', stateUf: 'MS', ibgeCode: '5006002' },
    { name: 'Nova Andradina', stateUf: 'MS', ibgeCode: '5006200' },
    { name: 'Aquidauana', stateUf: 'MS', ibgeCode: '5001102' },
    { name: 'Parana√≠ba', stateUf: 'MS', ibgeCode: '5006309' },
    { name: 'Maracaju', stateUf: 'MS', ibgeCode: '5005400' },

    // Distrito Federal
    { name: 'Bras√≠lia', stateUf: 'DF', ibgeCode: '5300108' },
  ];

  console.log('üèôÔ∏è Creating cities...');
  for (const cityData of citiesData) {
    const state = allStates.find(s => s.uf === cityData.stateUf);
    if (state) {
      await prisma.city.upsert({
        where: {
          name_stateId: {
            name: cityData.name,
            stateId: state.id,
          },
        },
        update: {},
        create: {
          name: cityData.name,
          stateId: state.id,
          ibgeCode: cityData.ibgeCode,
        },
      });
    }
  }

  console.log('‚úÖ Brazilian states and cities seeding completed successfully!');
  console.log(`üìä Created ${states.length} states and ${citiesData.length} cities`);
}

main()
  .catch((e) => {
    console.error('‚ùå Error during Brazilian seeding:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
